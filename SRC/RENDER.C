/* Copyright 2024 Shaun Brandt
   
   Permission is hereby granted, free of charge, to any person obtaining a 
   copy of this software and associated documentation files (the "Software"),
   to deal in the Software without restriction, including without limitation
   the rights to use, copy, modify, merge, publish, distribute, sublicense,
   and/or sell copies of the Software, and to permit persons to whom the
   Software is furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
   DEALINGS IN THE SOFTWARE.
 */
#include "includes.h"

// Draw the bars, the title, the background, etc
// The title screen
static char title_screen[4000] = {
	0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xc9, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xbb, 0x0e, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xba, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xba, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xba, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb0, 0x04, 0xb1, 0x04, 0xb2, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 
    0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0e, 0xdb, 0x0e, 
    0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 
    0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 
    0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 0xb2, 0x05, 0xb1, 0x05, 0xb0, 0x05, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xba, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3,
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c,
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 
    0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 0xdb, 0x04, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 
    0xdb, 0x04, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0xdb, 0x09, 
    0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 
    0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 
    0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0f, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 0xdb, 0x04, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0xdb, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0f, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0c, 0xdb, 0x0c, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x04, 0xdb, 0x04, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0xdb, 0x0a, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x09, 0xdb, 0x09, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0f, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0f, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb0, 0x04, 0xb1, 0x04, 0xb2, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 
    0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x04, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0c, 0xdb, 0x0e, 0xdb, 0x0e, 
    0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x0e, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x02, 
    0xdb, 0x02, 0xdb, 0x02, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x01, 0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 
    0xdb, 0x05, 0xdb, 0x05, 0xdb, 0x05, 0xb2, 0x05, 0xb1, 0x05, 0xb0, 0x05, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb3, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb3, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xba, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x2d, 0x0f, 0x2d, 0x0f, 0x2d, 0x0f, 0x3d, 0x0f, 0x3d, 0x0f, 0x3d, 0x0f, 
    0x20, 0x0f, 0x41, 0x0f, 0x53, 0x0f, 0x43, 0x0f, 0x49, 0x0f, 0x49, 0x0f, 0x20, 0x0f, 0x45, 0x0f, 0x64, 0x0f, 0x69, 0x0f, 0x74, 0x0f, 0x69, 0x0f, 0x6f, 0x0f, 0x6e, 0x0f, 0x21, 0x0f, 0x20, 0x0f, 
    0x3d, 0x0f, 0x3d, 0x0f, 0x3d, 0x0f, 0x2d, 0x0f, 0x2d, 0x0f, 0x2d, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xba, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xba, 0x0e, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xba, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xc8, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 
    0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xc4, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xcd, 0x0e, 0xbc, 0x0e, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x43, 0x03, 0x6f, 0x03, 
    0x70, 0x03, 0x79, 0x03, 0x72, 0x03, 0x69, 0x03, 0x67, 0x03, 0x68, 0x03, 0x74, 0x03, 0x20, 0x03, 0x32, 0x03, 0x30, 0x03, 0x32, 0x03, 0x34, 0x03, 0x20, 0x03, 0x53, 0x03, 0x68, 0x03, 0x61, 0x03, 
    0x75, 0x03, 0x6e, 0x03, 0x20, 0x03, 0x42, 0x03, 0x72, 0x03, 0x61, 0x03, 0x6e, 0x03, 0x64, 0x03, 0x74, 0x03, 0x20, 0x03, 0x2f, 0x03, 0x20, 0x03, 0x48, 0x03, 0x6f, 0x03, 0x6c, 0x03, 0x79, 0x03, 
    0x20, 0x03, 0x4d, 0x03, 0x65, 0x03, 0x61, 0x03, 0x74, 0x03, 0x67, 0x03, 0x6f, 0x03, 0x61, 0x03, 0x74, 0x03, 0x20, 0x03, 0x53, 0x03, 0x6f, 0x03, 0x66, 0x03, 0x74, 0x03, 0x77, 0x03, 0x61, 0x03, 
    0x72, 0x03, 0x65, 0x03, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x50, 0x0f, 0x72, 0x0f, 0x65, 0x0f, 
    0x73, 0x0f, 0x73, 0x0f, 0x20, 0x0f, 0x45, 0x0f, 0x4e, 0x0f, 0x54, 0x0f, 0x45, 0x0f, 0x52, 0x0f, 0x20, 0x0f, 0x74, 0x0f, 0x6f, 0x0f, 0x20, 0x0f, 0x70, 0x0f, 0x6c, 0x0f, 0x61, 0x0f, 0x79, 0x0f, 
    0x21, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 
    0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0x20, 0x0f, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 
    0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x01, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 
    0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0x91, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 
    0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3, 0xb1, 0xb3 
};

void draw_all(void) {
    g_globals.render.background = 1;
    g_globals.render.puzzle_box_area = 1;
    g_globals.render.legend_area = 1;
    g_globals.render.button_area = 1;
    g_globals.render.puzzle = 1;
    g_globals.render.palette = 1;
    g_globals.render.puzzle_cursor = 1;
    g_globals.render.palette_cursor = 1;
    g_globals.render.cursor_pos_area = 1;
    g_globals.render.timer_area = 1;
    g_globals.render.mistake_area = 1;
    g_globals.render.progress_area = 1;
    g_globals.render.information_area = 1;
    render_screen();
}

void render_screen(void) {
    switch(g_globals.current_state) {
        case STATE_TITLE:
            render_title_screen();
            break;
        case STATE_LOAD_DIALOG:
            render_load_screen();
            break;
        case STATE_GAME:
            render_game_state();
            break;
        case STATE_FINISHED:
            render_finished_state();
            break;
    }
}

void render_title_screen(void) {
    // Dump the screen to video memory
    if (g_globals.render.title) {
        memcpy(g_screen, title_screen, 4000);
        g_globals.render.title = 0;
    }
}

void render_map() {
    int start_x, start_y;
    int end_x, end_y;
    int i, j;
    char attr;
    ColorSquare *cs;

    if (g_globals.current_picture->w < 80) {
        start_x = (80 - g_globals.current_picture->w) >> 1;
        end_x = start_x + g_globals.current_picture->w - 1;
    }
    else{
        start_x = 0;
        end_x = 79;
    }
    if (g_globals.current_picture->h < g_globals.text_lines) {
        start_y = (g_globals.text_lines - g_globals.current_picture->h) >> 1;
        end_y = start_y + g_globals.current_picture->h - 1;
    }
    else {
        start_y = 0;
        end_y = g_globals.text_lines - 1;
    }

    // When fits on screen
    // start
    clear_screen();
    for(j = start_y; j <= end_y; j++) {
        for(i = start_x; i <= end_x; i++) {
            cs = get_color_square(g_globals.current_picture, g_globals.map_x + i - start_x, g_globals.map_y + j - start_y);
            if(is_transparent(cs)) {
                char_at(i, j, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));                
            }
            else {
                attr = make_attr(g_globals.current_picture->pal[cs->pal_entry][1], g_globals.current_picture->pal[cs->pal_entry][2]);
                char_at(i, j, g_globals.current_picture->pal[cs->pal_entry][0], attr);
            }
        }
    }

    if (!g_globals.map_hide_legend) {
        hline_at(0, 0, 80, ' ', make_attr(COLOR_WHITE, COLOR_CYAN));
        string_at(26, 0, "--= Picture is complete! ===-", make_attr(COLOR_WHITE, COLOR_CYAN));
        hline_at(0, g_globals.text_lines - 1, 80, ' ', make_attr(COLOR_WHITE, COLOR_CYAN));
        string_at(3, g_globals.text_lines - 1, "Press H to hide/show legend, arrows to scroll image, ENTER or ESC to exit.", make_attr(COLOR_WHITE, COLOR_CYAN));
    }
}

void render_load_screen(void) {
    int i, num_rows;
    char dimensions[10], colors[8], progress[20];

    if (g_globals.render.load_background) {
        // Background
        fill_box_at(0, 0, 79, 24, 177, make_attr(COLOR_BLUE, COLOR_LIGHT_BLUE));
        hline_at(0, 0, 80, ' ', make_attr(COLOR_WHITE, COLOR_CYAN));
        box_at(47, 3, 76, 11, BORDER_SINGLE, make_attr(COLOR_WHITE, COLOR_BLACK));
        fill_box_at(48, 4, 75, 10, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        box_at(47, 15, 76, 20, BORDER_SINGLE, make_attr(COLOR_WHITE, COLOR_BLACK));
        fill_box_at(48, 16, 75, 19, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        // Shading
        vline_at(21, 3, 21, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        vline_at(44, 3, 21, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        vline_at(77, 4, 9, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        vline_at(77, 16, 6, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        hline_at(3, 23, 19, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        hline_at(26, 23, 19, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        hline_at(48, 12, 30, 177, make_attr(COLOR_BLUE, COLOR_BLACK));
        hline_at(48, 21, 30, 177, make_attr(COLOR_BLUE, COLOR_BLACK));   
        // Text     
        string_at(29, 0, "--- Load Picture ---", make_attr(COLOR_WHITE, COLOR_CYAN));
        string_at(53, 3, " Picture Details ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(57, 15, " Controls ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(49, 5, "Name:", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 6, "Category:", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 7, "Size:", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 8, "Colors:", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 9, "Progress:", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 16, "Tab", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 17, "Up", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(54, 17, "Down", make_attr(COLOR_CYAN, COLOR_BLACK));
        string_at(49, 18, "Enter", make_attr(COLOR_CYAN, COLOR_BLACK));
        char_at(49, 19, 'R', make_attr(COLOR_CYAN, COLOR_BLACK));
        char_at(52, 17, '/', make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(53, 16, "- Move between windows", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(59, 17, "- Highlight item", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(54, 18, "- Play puzzle", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(51, 19, "- Reset Progress", make_attr(COLOR_WHITE, COLOR_BLACK));

        g_globals.render.load_background = 0;
    }
    if (g_globals.render.load_collections) {
        // The box
        fill_box_at(3, 3, 19, 21, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        if (g_globals.active_load_window == COLLECTION_TAB) {
            box_at(2, 2, 20, 22, BORDER_DOUBLE, make_attr(COLOR_YELLOW, COLOR_BLACK));
            string_at(5, 2, " Collections ", make_attr(COLOR_YELLOW, COLOR_BLACK));
        }
        else {
            box_at(2, 2, 20, 22, BORDER_SINGLE, make_attr(COLOR_WHITE, COLOR_BLACK));
            string_at(5, 2, " Collections ", make_attr(COLOR_WHITE, COLOR_BLACK));
        }
        g_globals.render.load_collections = 0;
    }
    if (g_globals.render.load_collections_list) {
        // The collections
        // 20 collections, top is 14
        // num rows = 19
        // if 14+19 > 20
        // num rows = num_collections - top_collection + 1;
        fill_box_at(6, 3, 13, 21, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        num_rows = LOAD_SCREEN_MAX_LIST_ROWS;
        if (g_globals.top_collection + num_rows >= g_globals.num_collections) {
            num_rows = g_globals.num_collections - g_globals.top_collection;
        }
        for (i=0;i<num_rows;i++) {
            string_at(LOAD_COLLECTIONS_TEXT_X, LOAD_COLLECTIONS_TEXT_Y + i, g_collections[g_globals.top_collection + i].name, make_attr(COLOR_WHITE, COLOR_BLACK));
        }
        g_globals.render.load_collections_list = 0;
    }
    if (g_globals.render.load_pictures) {
        fill_box_at(26, 3, 42, 21, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        if (g_globals.active_load_window == PICTURE_TAB) {
            box_at(25, 2, 43, 22, BORDER_DOUBLE, make_attr(COLOR_YELLOW, COLOR_BLACK));
            string_at(30, 2, " Pictures ", make_attr(COLOR_YELLOW, COLOR_BLACK));
        }
        else {
            box_at(25, 2, 43, 22, BORDER_SINGLE, make_attr(COLOR_WHITE, COLOR_BLACK));
            string_at(30, 2, " Pictures ", make_attr(COLOR_WHITE, COLOR_BLACK));
        }
        g_globals.render.load_pictures = 0;
    }
    if (g_globals.render.load_pictures_list) {
        fill_box_at(29, 3, 36, 21, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        num_rows = LOAD_SCREEN_MAX_LIST_ROWS;
        if (g_globals.top_picture + num_rows >= g_globals.num_pictures) {
            num_rows = g_globals.num_pictures - g_globals.top_picture;
        }
        for (i=0;i<num_rows;i++) {
            string_at(LOAD_PICTURES_TEXT_X, LOAD_PICTURES_TEXT_Y + i, g_pictures[g_globals.top_picture + i].name, make_attr(COLOR_WHITE, COLOR_BLACK));
        }
        g_globals.render.load_pictures_list = 0;
    }
    if (g_globals.render.load_collection_cursor) {
        char_at(LOAD_COLLECTIONS_TEXT_X - 2, LOAD_COLLECTIONS_TEXT_Y + g_globals.old_selected_collection - g_globals.old_top_collection, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        char_at(LOAD_COLLECTIONS_TEXT_X - 2, LOAD_COLLECTIONS_TEXT_Y + g_globals.selected_collection - g_globals.top_collection, 16, make_attr(COLOR_YELLOW, COLOR_BLACK));
        // highlight the text here at some point
        g_globals.render.load_collection_cursor = 0;
    }
    if (g_globals.render.load_picture_cursor) {
        char_at(LOAD_PICTURES_TEXT_X - 2, LOAD_PICTURES_TEXT_Y + g_globals.old_selected_picture - g_globals.old_top_picture, ' ', make_attr(COLOR_WHITE, COLOR_BLACK));
        char_at(LOAD_PICTURES_TEXT_X - 2, LOAD_PICTURES_TEXT_Y + g_globals.selected_picture - g_globals.top_picture, 16, make_attr(COLOR_YELLOW, COLOR_BLACK));
        // highlight the text here at some point
        g_globals.render.load_picture_cursor = 0;
    }
    if (g_globals.render.load_metadata_text) {
        string_at(62, 5, "          ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 5, g_pictures[g_globals.selected_picture].name, make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 6, "          ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 6, g_categories[g_pictures[g_globals.selected_picture].category], make_attr(COLOR_WHITE, COLOR_BLACK));
        sprintf(dimensions, "%d x %d", g_pictures[g_globals.selected_picture].width, g_pictures[g_globals.selected_picture].height);
        string_at(62, 7, "          ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 7, dimensions, make_attr(COLOR_WHITE, COLOR_BLACK));
        sprintf(colors, "%d", g_pictures[g_globals.selected_picture].colors);
        string_at(62, 8, "          ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 8, colors, make_attr(COLOR_WHITE, COLOR_BLACK));
        if (g_pictures[g_globals.selected_picture].progress == 0) {
            sprintf(progress, "<None yet>");
        } else if(g_pictures[g_globals.selected_picture].progress == g_pictures[g_globals.selected_picture].total)
        {
            sprintf(progress, "Completed!");
        }
        else {
            sprintf(progress, "%d/%d", g_pictures[g_globals.selected_picture].progress, g_pictures[g_globals.selected_picture].total);
        }
        string_at(62, 9, "           ", make_attr(COLOR_WHITE, COLOR_BLACK));
        string_at(62, 9, progress, make_attr(COLOR_WHITE, COLOR_BLACK));
        g_globals.render.load_metadata_text = 0;
    }
}

void draw_drawn_square(int cursor_x, int cursor_y, int viewport_x, int viewport_y) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char dimmer = make_attr(COLOR_DARK_GRAY, COLOR_BLACK);
    char wrong = make_attr(COLOR_WHITE, COLOR_RED);
    char cur_char, attr;
    ColorSquare *cs;

    //printf("draw_drawn_square: cursor - (%d, %d), viewport - (%d, %d)\n", cursor_x, cursor_y, viewport_x, viewport_y);
    cs = get_color_square(g_globals.current_picture, cursor_x + viewport_x, cursor_y + viewport_y);

    if (!is_transparent(cs)) {
        //printf("  - Is opaque\n");
        if(is_filled_in(cs)) {
            //printf("  - Is filled in\n");
            if(is_correct(cs)) {
                //printf("  - Is correct\n");
                attr = make_attr(g_globals.current_picture->pal[cs->pal_entry][1], g_globals.current_picture->pal[cs->pal_entry][2]);
                char_at(DRAW_AREA_X1 + (cursor_x * 2), DRAW_AREA_Y1 + cursor_y, g_globals.current_picture->pal[cs->pal_entry][0], attr);
                char_at(DRAW_AREA_X1 + (cursor_x * 2) + 1, DRAW_AREA_Y1 + cursor_y, g_globals.current_picture->pal[cs->pal_entry][0], attr);   
            }
            else {
                //printf("  - Is incorrect\n");
                char_at(DRAW_AREA_X1 + (cursor_x * 2), DRAW_AREA_Y1 + cursor_y, 'X', wrong);
                char_at(DRAW_AREA_X1 + (cursor_x * 2) + 1, DRAW_AREA_Y1 + cursor_y, 'X', wrong);                        
            }
        }
        else {
            //printf("  - Is not filled in\n");
            cur_char = get_picture_color_at(g_globals.current_picture, cursor_x  + viewport_x, cursor_y + viewport_y);
            //printf("  Palette entry = %d, palette index = %d\n", cs->pal_entry, g_globals.palette_index);
            if (g_globals.mark_enabled && cs->pal_entry == g_globals.palette_index) {
                char_at(DRAW_AREA_X1 + (cursor_x * 2) + 1, DRAW_AREA_Y1 + cursor_y, palette_chars[cur_char], standard);
            } 
            else {
                char_at(DRAW_AREA_X1 + (cursor_x * 2) + 1, DRAW_AREA_Y1 + cursor_y, palette_chars[cur_char], dimmer);                
            }
        }
    }
    else {
        //printf("  - Is transparent\n");
        char_at(DRAW_AREA_X1 + (cursor_x * 2), DRAW_AREA_Y1 + cursor_y, '.', dimmer);
        char_at(DRAW_AREA_X1 + (cursor_x * 2) + 1, DRAW_AREA_Y1 + cursor_y, '.', dimmer);                
    }

    //printf("==========================================\n");
}

void draw_ui_base(void) {
    char title_bar = make_attr(COLOR_WHITE, COLOR_CYAN);
    char background = make_attr(COLOR_BLUE, COLOR_LIGHT_BLUE);
    
    hline_at(0, 0, 80, ' ', title_bar);
    fill_box_at(0, 1, 79, 24, 177, background);
    string_at(2, 0, "DamPBN (in ASCII!)", title_bar);
    string_at(61, 0, SW_VERSION, title_bar);
}

void draw_puzzle_box_area(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);

    // Draw the boxes
    box_at(DRAW_AREA_BOX_X1, DRAW_AREA_BOX_Y1, DRAW_AREA_BOX_X2, DRAW_AREA_BOX_Y2, BORDER_SINGLE, standard);
    box_at(STATUS_AREA_BOX_X1, STATUS_AREA_BOX_Y1, STATUS_AREA_BOX_X2, STATUS_AREA_BOX_Y2, BORDER_SINGLE, standard);
    // fix the characters
    char_at(STATUS_AREA_BOX_X1, STATUS_AREA_BOX_Y1, 195, standard);
    char_at(STATUS_AREA_BOX_X2, STATUS_AREA_BOX_Y1, 180, standard);
}

// A function that just draws the mark squares instead of trying to redraw the entire puzzle area
void draw_marks(void) {
    int i, j;
    ColorSquare *cs;
    for (j=0; j < DRAW_VISIBLE_HEIGHT; j++) {
        for (i=0; i< DRAW_VISIBLE_WIDTH; i++) {
            cs = get_color_square(g_globals.current_picture, i + g_globals.viewport_x, j + g_globals.viewport_y);
            if(!is_filled_in(cs)) {
                draw_drawn_square(i, j, g_globals.viewport_x, g_globals.viewport_y);
            }
        }
    }
}

void draw_puzzle_area(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char dimmer = make_attr(COLOR_DARK_GRAY, COLOR_BLACK);
    char wrong = make_attr(COLOR_WHITE, COLOR_RED);
    int i, j;
    char cur_char, attr;
    ColorSquare *cs;

    fill_box_at(DRAW_AREA_X1, DRAW_AREA_Y1, DRAW_AREA_X2, DRAW_AREA_Y2, ' ', standard);
    for (j=0; j < DRAW_VISIBLE_HEIGHT; j++) {
        for (i=0; i < DRAW_VISIBLE_WIDTH; i++) {
            draw_drawn_square(i, j, g_globals.viewport_x, g_globals.viewport_y);
        }
    }
}

void draw_puzzle_cursor() {
    char yellow = make_attr(COLOR_YELLOW, COLOR_BLACK);
    char dimmer = make_attr(COLOR_DARK_GRAY, COLOR_BLACK);
    char wrong = make_attr(COLOR_WHITE, COLOR_RED);
    char invert_wrong = make_attr(COLOR_WHITE, COLOR_RED);

    char color;
    ColorSquare *old_cs, *cs;

    old_cs = get_color_square(g_globals.current_picture, g_globals.old_cursor_x + g_globals.old_viewport_x, g_globals.old_cursor_y + g_globals.old_viewport_y);
    cs = get_color_square(g_globals.current_picture, g_globals.cursor_x + g_globals.viewport_x, g_globals.cursor_y + g_globals.viewport_y);
    color = old_cs->pal_entry;

    // Redraw the underlying color at the old cursor location
    // TODO: do the right thing for filled in squares
    if (is_filled_in(old_cs)) {
        // Draw the filled in color if correct, the incorrect square if not correct
        if (is_correct(old_cs)) {
            char_at(DRAW_AREA_X1 + (g_globals.old_cursor_x * 2), DRAW_AREA_Y1 + g_globals.old_cursor_y, g_globals.current_picture->pal[color][0], 
                    make_attr(g_globals.current_picture->pal[color][1], g_globals.current_picture->pal[color][2]));
        }
        else {
            char_at(DRAW_AREA_X1 + (g_globals.old_cursor_x * 2), DRAW_AREA_Y1 + g_globals.old_cursor_y, 'X', wrong);
        }
    }
    else {
        if (is_transparent(old_cs)) {
            char_at(DRAW_AREA_X1 + (g_globals.old_cursor_x * 2), DRAW_AREA_Y1 + g_globals.old_cursor_y, '.', dimmer);
        }
        else {
            char_at(DRAW_AREA_X1 + (g_globals.old_cursor_x * 2), DRAW_AREA_Y1 + g_globals.old_cursor_y, ' ', dimmer);   
        }
    }

    // Draw the cursor at the new location (held in cursor_x and cursor_y)
    if(is_filled_in(cs)) {
        if (is_correct(cs)) {
            char_at(DRAW_AREA_X1 + (g_globals.cursor_x * 2), DRAW_AREA_Y1 + (g_globals.cursor_y), 16, yellow);
        }
        else {
            char_at(DRAW_AREA_X1 + (g_globals.cursor_x * 2), DRAW_AREA_Y1 + (g_globals.cursor_y), 16, invert_wrong);
        }
    }
    else {
        char_at(DRAW_AREA_X1 + (g_globals.cursor_x * 2), DRAW_AREA_Y1 + (g_globals.cursor_y), 16, yellow);
    }   
}

void draw_palette_cursor() {
    unsigned int p_x, p_y, op_x, op_y;
    char yellow = make_attr(COLOR_YELLOW, COLOR_BLACK);
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);

    p_x = (g_globals.palette_index  / LEGEND_NUM_ROWS) * LEGEND_COL_WIDTH + LEGEND_COLS_X - 1;
    p_y = g_globals.palette_index - ((g_globals.palette_index / LEGEND_NUM_ROWS) * LEGEND_NUM_ROWS) + LEGEND_COLS_Y;
    op_x = (g_globals.old_palette_index / LEGEND_NUM_ROWS) * LEGEND_COL_WIDTH + LEGEND_COLS_X - 1;
    op_y = g_globals.old_palette_index - ((g_globals.old_palette_index / LEGEND_NUM_ROWS) * LEGEND_NUM_ROWS) + LEGEND_COLS_Y;

    char_at(op_x, op_y, ' ', standard);
    char_at(p_x, p_y, 16, yellow);

}

void draw_legend_area(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    box_at(LEGEND_AREA_BOX_X1, LEGEND_AREA_BOX_Y1, LEGEND_AREA_BOX_X2, LEGEND_AREA_BOX_Y2, BORDER_SINGLE, standard);
    box_at(BUTTON_AREA_BOX_X1, BUTTON_AREA_BOX_Y1, BUTTON_AREA_BOX_X2, BUTTON_AREA_BOX_Y2, BORDER_SINGLE, standard);
    // fix the characters
    char_at(BUTTON_AREA_BOX_X1, BUTTON_AREA_BOX_Y1, 195, standard);
    char_at(BUTTON_AREA_BOX_X2, BUTTON_AREA_BOX_Y1, 180, standard);
    // Draw the legend text
    string_at(LEGEND_TEXT_X, LEGEND_TEXT_Y, " Legend ", standard);
}

void draw_legend(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    int i, j, idx, pal_idx;
    
    fill_box_at(LEGEND_AREA_X1, LEGEND_AREA_Y1, LEGEND_AREA_X2, LEGEND_AREA_Y2, ' ', standard);

    // For now, draw the entire legend.  In the actual game, we'll only draw the characters
    // that are actually part of the palette
    for (i=0; i < LEGEND_NUM_COLS; i++) {
        for (j=0; j < LEGEND_NUM_ROWS; j++) {
            idx = LEGEND_COLS_X + (LEGEND_COL_WIDTH * i);
            pal_idx = i * LEGEND_NUM_ROWS + j;
            if (pal_idx < g_globals.current_picture->num_colors) {
                char_at(idx, LEGEND_COLS_Y + j, palette_chars[i * LEGEND_NUM_ROWS + j], standard);
                char_at(idx + 2, LEGEND_COLS_Y + j, '-', standard);
                char_at(idx + 4, LEGEND_COLS_Y + j, g_globals.current_picture->pal[pal_idx][0], make_attr(g_globals.current_picture->pal[pal_idx][1], g_globals.current_picture->pal[pal_idx][2]));
            }
        }
    }
}

void draw_information_text(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char header = make_attr(COLOR_CYAN, COLOR_BLACK);
    fill_box_at(STATUS_AREA_X1, STATUS_AREA_Y1, STATUS_AREA_X2, STATUS_AREA_Y2, ' ', standard);

    // fill in the headers
    string_at(CATEGORY_TEXT_X, CATEGORY_TEXT_Y, "Category:", header);
    string_at(PROGRESS_TEXT_X, PROGRESS_TEXT_Y, "Progress:", header);
    string_at(MISTAKES_TEXT_X, MISTAKES_TEXT_Y, "Mistakes:", header);
    string_at(TIME_TEXT_X, TIME_TEXT_Y, "Time:", header);
}

void draw_timer(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char time_string[10];
    int hours, minutes, seconds;

    hours = g_globals.elapsed_seconds / 3600;
    minutes = (g_globals.elapsed_seconds - (hours * 3600)) / 60;
    seconds = (g_globals.elapsed_seconds - (hours * 3600)) % 60;
    if (hours > 99) {
        sprintf(time_string, "99:59:59");
    } 
    else {
        sprintf(time_string, "%.2d:%.2d:%.2d", hours, minutes, seconds);
    }
    string_at(TIME_VALUE_X, TIME_VALUE_Y, time_string, standard);
}

void draw_progress(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char progress[16];

    string_at(PROGRESS_VALUE_X, PROGRESS_VALUE_Y, "             ", standard);
    sprintf(progress, "%d / %d", g_globals.progress, g_globals.total_picture_squares);
    string_at(PROGRESS_VALUE_X, PROGRESS_VALUE_Y, progress, standard);
}

void draw_mistakes(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char mistakes[10];

    sprintf(mistakes, "%d", g_globals.mistakes);
    string_at(MISTAKES_VALUE_X, MISTAKES_VALUE_Y, mistakes, standard);
}

void draw_cursor_pos_text(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char cursor_pos[10];

    sprintf(cursor_pos, "(%3d,%3d)", g_globals.cursor_x + g_globals.viewport_x, g_globals.cursor_y + g_globals.viewport_y);
    string_at(CURSOR_LOC_X, CURSOR_LOC_Y, cursor_pos, standard);
}

void draw_button_area(void) {
    char standard = make_attr(COLOR_WHITE, COLOR_BLACK);
    char highlight = make_attr(COLOR_CYAN, COLOR_BLACK);
    char enabled = make_attr(COLOR_YELLOW, COLOR_BLACK);

    fill_box_at(BUTTON_AREA_X1, BUTTON_AREA_Y1, BUTTON_AREA_X2, BUTTON_AREA_Y2, ' ', standard);
    // draw the lines
    hline_at(BUTTON_AREA_HLINE_X, BUTTON_AREA_HLINE_Y, BUTTON_AREA_HLINE_LEN, 196, standard);
    vline_at(BUTTON_AREA_VLINE1_X, BUTTON_AREA_VLINE1_Y, BUTTON_AREA_VLINE1_LEN, 179, standard);
    vline_at(BUTTON_AREA_VLINE2_X, BUTTON_AREA_VLINE2_Y, BUTTON_AREA_VLINE2_LEN, 179, standard);

    // fix the corners
    char_at(BUTTON_AREA_BOX_X1, BUTTON_AREA_BOX_X1, 195, standard);
    char_at(BUTTON_AREA_BOX_X2, BUTTON_AREA_BOX_Y1, 180, standard);
    char_at(BUTTON_AREA_HLINE_X, BUTTON_AREA_HLINE_Y, 195, standard);
    char_at(BUTTON_AREA_HLINE_X + BUTTON_AREA_HLINE_LEN - 1, BUTTON_AREA_HLINE_Y, 180, standard);
    char_at(BUTTON_AREA_VLINE1_X, BUTTON_AREA_VLINE1_Y, 194, standard);
    char_at(BUTTON_AREA_VLINE2_X, BUTTON_AREA_VLINE2_Y, 194, standard);
    char_at(BUTTON_AREA_VLINE1_X, BUTTON_AREA_VLINE1_Y + BUTTON_AREA_VLINE1_LEN - 1, 193, standard);
    char_at(BUTTON_AREA_VLINE2_X, BUTTON_AREA_VLINE2_Y + BUTTON_AREA_VLINE2_LEN - 1, 193, standard);
    char_at(BUTTON_AREA_VLINE1_X, BUTTON_AREA_HLINE_Y, 197, standard);
    char_at(BUTTON_AREA_VLINE2_X, BUTTON_AREA_HLINE_Y, 197, standard);

    // draw the text
    string_at(SAVE_TEXT_X, SAVE_TEXT_Y, "( )ave", standard);
    string_at(LOAD_TEXT_X, LOAD_TEXT_Y, "( )oad", standard);
    if (g_globals.mark_enabled) {
        string_at(MARK_TEXT_X, MARK_TEXT_Y, "-Mar( )-", enabled);
    }
    else {
        string_at(MARK_TEXT_X, MARK_TEXT_Y, " Mar( ) ", standard);
    }
    string_at(MAP_TEXT_X, MAP_TEXT_Y, "( )ap", standard);
    string_at(OPTS_TEXT_X, OPTS_TEXT_Y, "( )pts", standard);
    string_at(EXIT_TEXT_X, EXIT_TEXT_Y, "( )xit", standard);
    char_at(SAVE_TEXT_X + 1, SAVE_TEXT_Y, 'S', highlight);
    char_at(LOAD_TEXT_X + 1, LOAD_TEXT_Y, 'L', highlight);
    char_at(MARK_TEXT_X + 5, MARK_TEXT_Y, 'k', highlight);
    char_at(MAP_TEXT_X + 1, MAP_TEXT_Y, 'M', highlight);
    char_at(OPTS_TEXT_X + 1, OPTS_TEXT_Y, 'O', highlight);
    char_at(EXIT_TEXT_X + 1, EXIT_TEXT_Y, 'E', highlight);

}

void draw_save_message(void) {
    if(g_globals.saving_in_progress) {
        string_at(25, 23, " Saving... ", make_attr(COLOR_WHITE, COLOR_BLACK));
    }
    else {
        hline_at(25, 23, 11, 196, make_attr(COLOR_WHITE, COLOR_BLACK));
    }
}

void draw_load_message(void) {
    if(g_globals.loading_in_progress) {
        string_at(21, 23, " File loaded. ", make_attr(COLOR_WHITE, COLOR_BLACK));
    }
    else {
        hline_at(21, 23, 15, 196, make_attr(COLOR_WHITE, COLOR_BLACK));
    }
}

void render_finished_state(void) {
    if (g_globals.render.map) {
        render_map();
        g_globals.render.map = 0;
    }
}

// Conditionally update the screen for the current state
void render_game_state(void) {
    if (g_globals.render.background) {
        draw_ui_base();
        g_globals.render.background = 0;
    }
    if (g_globals.render.puzzle_box_area) {
        draw_puzzle_box_area();
        g_globals.render.puzzle_box_area = 0;
    }
    if (g_globals.render.legend_area) {
        draw_legend_area();
        g_globals.render.legend_area = 0;
    }
    if (g_globals.render.button_area) {
        draw_button_area();
        g_globals.render.button_area = 0;
    }
    if (g_globals.render.puzzle) {
        draw_puzzle_area();
        g_globals.render.puzzle = 0;
    }
    if (g_globals.render.marks) {
        draw_marks();
        g_globals.render.marks = 0;
    }
    if (g_globals.render.drawn_square) {
        draw_drawn_square(g_globals.cursor_x, g_globals.cursor_y, g_globals.viewport_x, g_globals.viewport_y);
        g_globals.render.drawn_square = 0;
    }
    if (g_globals.render.palette) {
        draw_legend();
        g_globals.render.palette = 0;
    }
    if (g_globals.render.puzzle_cursor) {
        draw_puzzle_cursor();
        g_globals.render.puzzle_cursor = 0;
    }
    if (g_globals.render.palette_cursor) {
        draw_palette_cursor();
        g_globals.render.palette_cursor = 0;
    }
    if (g_globals.render.cursor_pos_area) {
        draw_cursor_pos_text();
        g_globals.render.cursor_pos_area = 0;
    }
    if (g_globals.render.information_area) {
        draw_information_text();
        g_globals.render.information_area = 0;
    }
    if (g_globals.render.timer_area) {
        draw_timer();
        g_globals.render.timer_area = 0;
    }
    if (g_globals.render.mistake_area) {
        draw_mistakes();
        g_globals.render.mistake_area = 0;
    }
    if (g_globals.render.progress_area) {
        draw_progress();
        g_globals.render.progress_area = 0;
    }
    if (g_globals.render.save_message) {
        draw_save_message();
        g_globals.render.save_message = 0;
    }
    if (g_globals.render.load_message) {
        draw_load_message();
        g_globals.render.load_message = 0;
    }
}

void clear_render_components(RenderComponents *r) {
    r->title = 0;
    r->load_background = 0;
    r->load_collection_cursor = 0;
    r->load_picture_cursor = 0;
    r->load_metadata_text = 0;
    r->load_pictures = 0;
    r->load_collections = 0;
    r->load_pictures_list = 0;
    r->load_collections_list = 0;
    r->background = 0;
    r->puzzle_box_area = 0;
    r->legend_area = 0;
    r->button_area = 0;
    r->cursor_pos_area = 0;
    r->puzzle = 0;
    r->palette = 0;
    r->puzzle_cursor = 0;
    r->palette_cursor = 0;
    r->timer_area = 0;
    r->mistake_area = 0;
    r->progress_area = 0;
    r->information_area = 0;
    r->drawn_square = 0;
    r->marks = 0;
}